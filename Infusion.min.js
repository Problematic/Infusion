var Infusion=function(){var a=function(){return this instanceof a?(this.values={},this.services={},void 0):new a};return a.prototype.set=function(a,b,c){this.values[a]=b,c instanceof Array&&(this.services[a]={dependencies:c})},a.prototype.has=function(a){return void 0!==this.values[a]},a.prototype.get=function(a){var b,c,d=this.values[a],e=this.services[a];if(void 0===d)throw new ReferenceError('Service or parameter "'+a+'" does not exist.');if(void 0!==e){b=e.dependencies;for(var f=0;f<b.length;f++)if(c=b[f],"string"==typeof c)try{b[f]=this.get(c)}catch(g){throw g instanceof ReferenceError&&(g.message='Dependency "'+c+'" of service "'+a+'" does not exist.'),g}return d.apply(d,b)}return"function"==typeof d?d(this):d},a.prototype.insulate=function(a){return function(){return a}},a.prototype.reference=function(a){var b=null;return function(c){return null===b&&(b=a(c)),b}},a}();